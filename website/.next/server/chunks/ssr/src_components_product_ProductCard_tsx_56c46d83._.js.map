{"version":3,"sources":["turbopack:///[project]/src/components/product/ProductCard.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from 'react';\nimport Link from 'next/link';\nimport Image from 'next/image';\nimport { useRouter } from 'next/navigation';\nimport { Product } from '@/types';\nimport { useCart } from '@/context/CartContext';\n\ninterface ProductCardProps {\n  product: Product;\n}\n\nexport default function ProductCard({ product }: ProductCardProps) {\n  const router = useRouter();\n  const { addToCart, isInCart } = useCart();\n  const [isAdding, setIsAdding] = useState(false);\n\n  const discount = product.originalPrice\n    ? Math.round(((product.originalPrice - product.price) / product.originalPrice) * 100)\n    : 0;\n\n  const productInCart = isInCart(product.id);\n\n  const handleAddToCart = (e: React.MouseEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    setIsAdding(true);\n    addToCart(product, 1);\n\n    // Reset animation after 500ms\n    setTimeout(() => {\n      setIsAdding(false);\n    }, 500);\n  };\n\n  const handleViewCart = (e: React.MouseEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    router.push('/cart');\n  };\n\n  return (\n    <div className=\"group bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 hover:shadow-xl transition-all duration-300 overflow-hidden\">\n      <Link href={`/products/${product.slug}`} className=\"block\">\n        {/* Product Image */}\n        <div className=\"relative overflow-hidden aspect-square bg-gray-100 dark:bg-gray-800\">\n          <Image\n            src={product.image}\n            alt={product.name}\n            fill\n            className=\"object-cover group-hover:scale-110 transition-transform duration-500\"\n            sizes=\"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw\"\n          />\n          {/* Discount Badge */}\n          {discount > 0 && (\n            <div className=\"absolute top-2 right-2 bg-[#bc1215] text-white px-2 py-1 text-xs font-bold\">\n              -{discount}%\n            </div>\n          )}\n          {/* Stock Warning */}\n          {product.stock > 0 && product.stock < 10 && (\n            <div className=\"absolute top-2 left-2 bg-orange-500 text-white px-2 py-1 text-xs font-semibold\">\n              Only {product.stock} left\n            </div>\n          )}\n          {/* Out of Stock */}\n          {product.stock === 0 && (\n            <div className=\"absolute inset-0 bg-black/60 flex items-center justify-center\">\n              <span className=\"bg-white text-gray-900 px-4 py-2 font-bold text-sm\">\n                OUT OF STOCK\n              </span>\n            </div>\n          )}\n        </div>\n\n        {/* Product Info */}\n        <div className=\"p-3\">\n          {/* Product Name */}\n          <h3 className=\"font-semibold text-gray-900 dark:text-white mb-2 line-clamp-2 text-sm group-hover:text-[#bc1215] transition-colors min-h-[2.5rem]\">\n            {product.name}\n          </h3>\n\n          {/* Price */}\n          <div className=\"mb-3\">\n            <div className=\"flex items-center gap-2 flex-wrap\">\n              <span className=\"text-lg font-bold text-[#bc1215]\">\n                ৳{product.price.toLocaleString()}\n              </span>\n              {product.originalPrice && (\n                <span className=\"text-sm text-gray-500 dark:text-gray-400 line-through\">\n                  ৳{product.originalPrice.toLocaleString()}\n                </span>\n              )}\n            </div>\n          </div>\n        </div>\n      </Link>\n\n      {/* Add to Cart / View Cart Button */}\n      <div className=\"px-3 pb-3\">\n        {productInCart ? (\n          <button\n            onClick={handleViewCart}\n            className=\"w-full py-2.5 bg-green-600 hover:bg-green-700 text-white font-semibold text-sm transition-all duration-300 flex items-center justify-center gap-2 transform hover:scale-[1.02]\"\n          >\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M5 13l4 4L19 7\"\n              />\n            </svg>\n            View Cart\n          </button>\n        ) : (\n          <button\n            onClick={handleAddToCart}\n            disabled={product.stock === 0}\n            className={`w-full py-2.5 bg-[#bc1215] hover:bg-[#8a0f12] text-white font-semibold text-sm transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 transform hover:scale-[1.02] ${\n              isAdding ? 'scale-95 bg-[#8a0f12]' : ''\n            }`}\n          >\n            <svg\n              className={`w-4 h-4 transition-transform duration-300 ${\n                isAdding ? 'scale-125 rotate-12' : ''\n              }`}\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z\"\n              />\n            </svg>\n            {product.stock === 0 ? 'Out of Stock' : 'Add to Cart'}\n          </button>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}