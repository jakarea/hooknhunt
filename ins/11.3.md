You are working in the `hooknhunt-ui` project. Please read `AI_CONTEXT.md`.

**Goal:** Create the UI to create a **Draft Purchase Order**.
**Logic:** We are ordering **Parent Products** (Lazy Categorization). We will split them into variants later during receiving.

**Task 1: Create `src/stores/purchaseStore.ts`**
Create a Zustand store using `apiClient`.
- **State:** `isLoading: boolean`, `error: string | null`.
- **Actions:**
    - `createDraft(data: PurchaseOrderDraftData): Promise<void>`
        - Calls `POST /api/v1/admin/purchase-orders`.
        - Redirects to `/purchase/orders` on success.

**Task 2: Create `src/pages/purchase/CreatePurchaseOrder.tsx`**
Create the page component.

**UI Workflow:**
1.  **Supplier Select:** Use a Combobox/Select to choose a supplier (fetch from `supplierStore`).
2.  **Product Fetch:** When supplier changes, fetch their linked products:
    - API: `GET /api/v1/admin/suppliers/{id}?include=products` (Ensure your backend supports this or use a specific product fetch endpoint).
    - *Fallback logic:* If the supplier endpoint doesn't return products, fetch all products and filter in frontend (temporary).
3.  **Invoice Table:**
    - Rows: One row per Parent Product linked to the supplier.
    - Columns:
        - **Checkbox:** To select the product.
        - **Image & Name:** Display product thumbnail and base name.
        - **RMB Price:** Input field (Type: number).
        - **Quantity:** Input field (Type: number).
        - **Approx BDT:** Calculated (`RMB * Exchange Rate` from settings).
4.  **Footer:**
    - Show Total Qty and Total Estimated BDT.
    - **Button:** "Save Draft".

**Payload Construction:**
When saving, construct the payload:
```json
{
  "supplier_id": 1,
  "items": [
    { "product_id": 101, "china_price": 50, "quantity": 100 },
    { "product_id": 102, "china_price": 60, "quantity": 200 }
  ]
}



You are working on the `hooknhunt-api` project. remember `AI_CONTEXT.md`.

**Goal:** Implement the core workflow logic in `PurchaseOrderController.php`.

**Task: Update `app/Http/Controllers/Api/V1/Admin/PurchaseOrderController.php`**

Add or update the following methods:

1.  **`show($id)`**:
    * Return the order with relationships: `supplier`, `items.product` (Parent Product info).

2.  **`updateStatus(Request $request, $id)`**:
    * Validate `status` (required).
    * **Logic Switch:**
        * `payment_confirmed`: Validate `exchange_rate` (required). Update order with rate and generate `order_number` (PO-{Year}{Month}-{ID}).
        * `supplier_dispatched`: Validate `courier_name`, `tracking_number`. Update order.
        * `shipped_bd`: Validate `lot_number`. Update order.
        * `in_transit_bogura`: Validate `bd_courier_tracking`. Update order.
        * `completed`: Just update status.

3.  **`receiveItems(Request $request, $id)` (CRITICAL LOGIC)**:
    * **Purpose:** Finalize costs, split Parent Products into Variants, and update Inventory.
    * **Validation:** `extra_cost_global` (nullable), `total_weight` (nullable), `items` (array).
    * **Items Structure:**
        ```json
        items: [
          {
            "po_item_id": 1, // The draft item (Parent Product)
            "shipping_cost": 500, // Cost allocated to this line
            "received_quantity": 2,
            "received_variants": [
               { "variant_id": 101, "quantity": 48 }, // Red-M
               { "variant_id": 102, "quantity": 50 }  // Blue-L
            ]
          }
        ]
        ```
    * **Processing Loop (Foreach Item):**
        1.  **Get Draft Data:** Fetch original `china_price` and `quantity` from `purchase_order_items`.
        2.  **Calculate Base Cost (BDT):** `china_price` * `order->exchange_rate` * `quantity`.
        3.  **Add Costs:** Add `input->shipping_cost`. Add allocated portion of `extra_cost_global` (e.g., distribute by qty weight).
        4.  **Effective Qty:** `quantity` - `input->received_quantity`.
        5.  **Calculate Unit Cost (Landed):** `Total Line Cost` / `Effective Qty`.
        6.  **Update Variants & Inventory:**
            * Loop through `received_variants`.
            * **Inventory:** Increment `quantity` in `inventory` table for this `variant_id`.
            * **Price:** Update `landed_cost` in `product_variants` table with the calculated Unit Cost.
    * **Finalize:** Set order status to `received_hub`.

Provide the complete code for `PurchaseOrderController.php`.