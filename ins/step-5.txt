"Please read the attached AI_CONTEXT.md file. We will now add core CRUD APIs to the hooknhunt-api project, following the established /api/v1/admin structure and RBAC rules.

Task 1: Create Category API

Generate a new controller: app/Http/Controllers/Api/V1/Admin/CategoryController.php.

Implement full API Resource methods: index, store, show, update, destroy.

store(Request $request): Must validate name (required, unique) and slug (required, unique). If parent_id is sent, it must exist in the categories table.

update(Request $request, Category $category): Similar validation to store, ensuring unique rules ignore the current category.

index(): Should return a paginated list of categories.

Task 2: Create Supplier API

Generate a new controller: app/Http/Controllers/Api/V1/Admin/SupplierController.php.

Implement full API Resource methods: index, store, show, update, destroy.

store(Request $request) & update(...): Must validate all fields based on the suppliers table schema in AI_CONTEXT.md (e.g., email (nullable, unique), shop_url (nullable, url), name (required)).

index(): Should return a paginated list of suppliers.

Task 3: Update routes/api.php

Append the new API resource routes to the existing routes/api.php file, placing them inside the correct RBAC middleware groups.

Category Routes: Must be accessible by super_admin, admin, and marketer (as defined in AI_CONTEXT.md, Section 7).

Supplier Routes: Must be accessible by super_admin, admin, and store_keeper.

The updated routes/api.php structure should look like this:

PHP

// [File: routes/api.php]
// ... (The existing /api/v1/store routes are already here) ...

use App\Http\Controllers\Api\V1\Admin\CategoryController; // Add this
use App\Http\Controllers\Api\V1\Admin\SupplierController; // Add this

// --- ADMIN API (For React Admin Panel) ---
Route::prefix('v1/admin')->group(function () {

    // Public Auth (Admin Login)
    Route::post('/auth/login', [App\Http\Controllers\Api\V1\Admin\AuthController::class, 'login']);

    // Authenticated Admin Routes
    Route::middleware('auth:sanctum')->group(function () {
        
        Route::post('/auth/logout', [App\Http\Controllers\Api\V1\Admin\AuthController::class, 'logout']);
        Route::get('/me', [App\Http\Controllers\Api\V1\Admin\AuthController::class, 'me']);

        // --- Super Admin & Admin Routes ---
        Route::middleware('role:super_admin,admin')->group(function () {
            Route::apiResource('users', App\Http\Controllers\Api\V1\Admin\UserController::class);
        });

        // --- Marketer, Admin, Super Admin Routes ---
        Route::middleware('role:super_admin,admin,marketer')->group(function () {
            Route::apiResource('categories', CategoryController::class); // NEW
        });

        // --- Store Keeper, Admin, Super Admin Routes ---
        Route::middleware('role:super_admin,admin,store_keeper')->group(function () {
            Route::apiResource('suppliers', SupplierController::class); // NEW
        });
        
        // ... (other roles will be added later) ...
    });
});
"