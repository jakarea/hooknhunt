Please read `AI_CONTEXT.md`. We are implementing the core **Purchase Order Logic**.

**Task 1: Create Migration**
Create a new migration `add_workflow_fields_to_purchase_orders`.
* **Update `purchase_orders` table:**
    * `order_number` (string, nullable, unique) - Generated on payment confirm.
    * `exchange_rate` (decimal, 10,2, nullable).
    * `lot_number` (string, nullable).
    * `courier_name` (string, nullable).
    * `tracking_number` (string, nullable).
    * `bd_courier_tracking` (string, nullable).
    * `total_weight` (decimal, 10,2, nullable).
    * `extra_cost_global` (decimal, 10,2, nullable).
* **Update `purchase_order_items` table:**
    * `shipping_cost` (decimal, 10,2, default 0).
    * `received_quantity` (integer, default 0).
    * `lost_item_price` (decimal, 10,2, default 0).
    * `final_unit_cost` (decimal, 10,2, nullable) - To store the calculated landed cost history.

**Task 2: Create `PurchaseOrderController`**
Create `app/Http/Controllers/Api/V1/Admin/PurchaseOrderController.php`.

* **`store(Request $request)` (Create Draft):**
    * Validate `supplier_id` (required), `items` (array).
    * Create Order with status `draft`.
    * Loop items and save `product_variant_id`, `china_price`, `quantity`.
    * **Note:** Do NOT save exchange rate here yet.

* **`updateStatus(Request $request, $id)` (The Engine):**
    * Validate `status` (required).
    * Find Order.
    * **Logic Switch:**
        * If status `payment_confirmed`: Validate & save `exchange_rate`. Generate `order_number` (e.g., PO-{YYYYMMDD}-{ID}).
        * If status `supplier_dispatched`: Validate & save `courier_name`, `tracking_number`.
        * If status `shipped_bd`: Validate & save `lot_number`.
        * If status `arrived_bd`: Accept optional `items` array to update `shipping_cost` for each item row.
        * If status `in_transit_bogura`: Validate & save `bd_courier_tracking`.
        * If status `received_hub`: Validate & save `total_weight`, `extra_cost_global`. Accept optional `items` array to update `received_quantity`.
        * If status `completed`:
            * **TRIGGER CALCULATION:** Call private method `calculateAndFinalize($order)`.
            * Change status to `completed`.

* **`calculateAndFinalize($order)` (Private Logic):**
    * Loop through each item:
        1.  **Base Cost (BDT):** `china_price` * `order->exchange_rate`.
        2.  **Add Costs:** Add `item->shipping_cost`.
        3.  **Distribute Global Extra:** Add (`order->extra_cost_global` / `order->total_quantity`).
        4.  **Lost Item Logic:**
            * `effective_qty` = `quantity` - `received_quantity`.
            * `total_line_cost` = (`quantity` * Base Cost) + (`quantity` * Shipping) + Distributed Extra.
            * `final_landed_cost` = `total_line_cost` / `effective_qty`. (This distributes loss value to remaining items).
        5.  **Update Database:**
            * Update `purchase_order_items` -> `final_unit_cost`.
            * Update `product_variants` -> `landed_cost` (Overwrite with new cost).
            * Update `inventory` -> Increment `quantity` by `effective_qty`.

**Task 3: Routes**
Update `routes/api.php` (Admin Group):
* `GET /purchase-orders` (Index)
* `GET /purchase-orders/{id}` (Show - load items & products)
* `POST /purchase-orders` (Store Draft)
* `PUT /purchase-orders/{id}/status` (Update Workflow)

Provide code for: Migration, Controller, and Routes.